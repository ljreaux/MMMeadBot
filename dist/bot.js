"use strict";var B=Object.create;var y=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var x=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of A(t))!R.call(e,i)&&i!==o&&y(e,i,{get:()=>t[i],enumerable:!(r=L(t,i))||r.enumerable});return e};var E=(e,t,o)=>(o=e!=null?B(T(e)):{},x(t||!e||!e.__esModule?y(o,"default",{value:e,enumerable:!0}):o,e));var d=require("discord.js"),C=E(require("dotenv"));var m={eightminutemead:"https://youtu.be/nA7tLIFcgts",meadmistakes:"https://youtu.be/rCN-TSSsRmc",yeasttest:"https://youtu.be/-_shVjrZIO4",applecinnamon:"https://youtu.be/NF1dhaeysB0",bottlecarbonation:"https://youtu.be/ipPIbB8tS0M",sweetmead:"https://youtu.be/sOpBxyrANlQ",hoppedblueberry:"https://youtu.be/dzUa_K-iRCY",carbonatedblueberry:"https://youtu.be/yAwLpol-G6A",allstyles:"https://youtu.be/08eQ-ylpvKk",discordmead1:"https://youtu.be/K78YNSn5sd8",discordmead2:"https://youtu.be/21OMY2OMmFg",discordmead3:" https://youtu.be/v0PnWMp0COw",discordmead4:"https://youtu.be/ZHfCwTogiqo",discordmead5:"https://youtu.be/wrL0TTeRu0w",discordmead6:"https://youtu.be/RqouA9Fl01s",discordmead7:"https://youtu.be/90HIPS_dnEM",discordmead8:"https://youtu.be/Todjm7wGbPU",brewsysucks:"https://youtu.be/2m-EmXL8QOo",peppermintmead:"https://youtu.be/6T7BdYta4YQ",mixedberrymead:"https://youtu.be/0J-p54wh1tI",rootbeermead:"https://youtu.be/UGuJgqhMwxU",TeaMead:"https://youtu.be/3Npbhc7Jp1k",pinacolada:"https://youtu.be/INJ-bxrRCBE",redpyment:"https://youtu.be/jESTDN9eqhU",meadmakingprocess:" https://youtu.be/NQmhIQXnnNg",whitepyment:"https://youtu.be/JXit06hwAZY",punishingyeast:"https://youtu.be/CsMJmDdQ-_o",dndmead:"https://youtu.be/GsHlL_Suw4M",hothoney:"https://youtu.be/cBZXGCQFX8I",meadsquidgame:"https://youtu.be/gGD9OuZtILc",cucumberlime:"https://youtu.be/hnT3RXN9v-Q"};var I=["Beginner","10 Meads","20 Meads","25 Meads","30 Meads","40 Meads","50 Meads","75 Meads","100 Meads"],$=I.reduce((e,t)=>`${e}
- ${t}`),U=Object.keys(m).reduce((e,t)=>`${e}
- ${t}`),p=[{command:"!help",response:`# **Welcome to the Mead Bot!**

If you want a list of available commands, run **!list**

If you would like to change your rank, run **?rank (requested rank)**
This will add you to a private channel with your own little mead community.

Run **!recipes** to see a list of common recipes, or **!recipes (recipe name)** to see an individual recipe.`},{command:"!listranks",response:`Here is a list of available ranks: 

${$}`},{command:"?rank",response:"The rank command allows you to change your current rank based on the number of meads you have completed."},{command:"!recipes",response:`Here is the full list of recipes.
- ${U}

Run !recipes (recipe name) to get an individual recipe`},{command:"!abv",response:""},{command:"!meadtools",response:`Calculator: https://meadtools.com/
Video walkthrough: https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq`},{command:"!meadnotes",response:`https://docs.google.com/document/d/1O0ebgOewuK0a1JKEsmlco3QJ0bp5B0tgGnbGm5S8syU/edit?usp=sharing
Here are the Mead notes from the mead making 101-501 series.`},{command:"!honeylist",response:`Here is a list of honey vendors from our wonderful moderator Texas Longhouse Mead.
- https://www.gardnerbees.buzz/shop
- https://www.walkerhoneyfarm.com/
- https://www.dutchgoldhoney.com/
- https://beenaturalhoney.com/
- https://flyingbeeranch.net/
- https://zspecialtyfood.com/
- https://www.sweetneshoney.com/
- https://beeseasonal.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOTwO6rQyWHvh2aGVKShJ-Y7wJ2Y4adWFiQh3HbqL0hjCgciv-GTDgRoCHRIQAvD_BwE
- https://hawaiianhoneyats.com/
- https://www.sleepingbearfarms.com/product-category/raw-honey/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOXwDjr0HpedW3b5qWe4DppeU_4-Zd48mqSCczWRfQIFkfp2-S6HyjhoCogUQAvD_BwE
- https://www.desertcreekhoney.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOSJUYJDdJucdXRao6sMM4Hbl81_pML7aJ-ZPEBrISgx3joGC5NPy8xoCICAQAvD_BwE
- https://savannahbee.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOVfGxD75mvkq38gsWncycP5T7m-yKFEArPeUeRhbybkul14IHzcm-BoCsv8QAvD_BwE`},{command:"!equipmentlist",response:"Here is basic equipment list: https://discord.com/channels/568934729676488704/853838172059729920/949501378462634035"},{command:"!raptPillBt",response:"Check out this cool project: https://discord.com/channels/568934729676488704/853838172059729920/1247224944283353148"}],h="?rank ",g=e=>{let t=!1;return["Administrator","Moderator","Mazer of the Week","Patreon Bot","Discord Mead Leader","MMM Patron","Mead Bot","Rythm","Server Booster","EasyPoll","Live Countdown Bot","YouTube Member","technician","YouTube","YT Bot","UMM2024","UMM 2024 Purgatory Member"].forEach(r=>{(r.toLowerCase()===e.toLowerCase()||r.toLowerCase().includes(e.toLowerCase()))&&(t=!0)}),t};var Y=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,w=(e,t)=>{let o=-668.962+1262.45*e-776.43*e**2+182.94*e**3,r=-668.962+1262.45*t-776.43*t**2+182.94*t**3,i=.22+.001*o,n=(i*o+r)/(1+i),a=(o-n)/(2.0665-.010665*o),s=Math.round(a*(t/.794)*100)/100;return[Math.round(Y(t)+4.5*s),s]};var u=require("discord.js"),f=(e,t)=>{if(!(e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.ModerateMembers)))return;let[,o]=t.split(" ");if(!o){e.channel.send("You need to specify a user to kick.");return}let r=e.mentions.users.first();if(!r){e.channel.send("User not found.");return}e.guild?.members.kick(r),e.channel.send(`${r.tag} has been kicked.`)},M=(e,t)=>{if(!(e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.ModerateMembers)))return;let[,o]=t.split(" ");if(!o){e.channel.send("You need to specify a user to ban.");return}let r=e.mentions.users.first();if(!r){e.channel.send("User not found.");return}e.guild?.members.ban(r),e.channel.send(`${r.tag} has been banned.`)};C.default.config();var{token:S,welcomeChannel:j="",botSpamChannel:O=""}=process.env,l=new d.Client({intents:[d.GatewayIntentBits.Guilds,d.GatewayIntentBits.GuildMessages,d.GatewayIntentBits.MessageContent,d.GatewayIntentBits.GuildMembers,d.GatewayIntentBits.GuildPresences]});l.login(S);l.once(d.Events.ClientReady,e=>{console.log(`Ready! Logged in as ${e.user.tag}`)});l.on("messageCreate",e=>{if(e.author.bot)return;let t=e.content,{member:o}=e;if(t.includes("?kick"))return f(e,t);if(t.includes("?ban"))return M(e,t);let r=o?.roles.cache.filter(n=>n.name.toLowerCase().includes("mead")||n.name.toLowerCase()==="beginner");if(t.toLowerCase().startsWith(h)){let n=t.substring(h.length);if(g(n)){e.channel.send(`You are in this discord server, but we do not grant you the rank of ${n}`);return}let a=e.guild?.roles.cache.find(s=>(n==="10"&&(n="10 "),s.name.toLowerCase()===n.toLowerCase()||s.name.toLowerCase().includes(n.toLowerCase())));if(!a){e.channel.send(`The role ${n} is not a valid role.`);return}r?.forEach(s=>o?.roles.remove(s.id)),o?.roles.add(a.id),e.channel.send(`You have been assigned to role "${a.name}"`).catch(s=>console.error(s));return}if(t.toLowerCase().startsWith("!recipes")){let[,n]=t.split(" "),a=n?.toLowerCase()||"";if(n&&a in m){e.channel.send(m[a]);return}else if(n){e.channel.send(`The recipe ${n} is not a valid recipe command.`);return}}if(t.toLowerCase().startsWith("!abv")){let[,n,a]=t.split(" "),[s,c]=[Number(n),Number(a)||.996];if(isNaN(s)||isNaN(c)||s<c||s>1.22||c>1.22||s-c>.165){e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");return}let[k,v]=w(s,c);e.channel.send(`An OG of ${s} and an FG of ${c} will make ${v}% ABV and ${k} delle units.`);return}for(let n of p)(n.command===t||t.includes(n.command))&&e.channel.send(n.response).catch(a=>console.error(a));let i=n=>{let a=[];return a=n.map(s=>`${s.command}
`),a};if(t=="!list"){let n=`
**Available Bot Commands**
`,a=i(p),c=`${n}${a}`.replaceAll(",","");e.channel.send(c).catch(b=>console.error(b))}});l.on("guildMemberAdd",e=>{l.channels.cache.get(j).send(`Welcome to the MMM Discord Server <@${e.user.id}>!

 Please head over to <#${O}> and run **?rank (rank)** to recieve a rank and join your mini mead making community.

Run **!recipes** to get a list of popular MMM recipes.

You can find a list of all commands by running **!list**`)});
