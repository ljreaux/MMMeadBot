"use strict";var v=Object.create;var y=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var R=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of L(t))!T.call(e,a)&&a!==o&&y(e,a,{get:()=>t[a],enumerable:!(i=B(t,a))||i.enumerable});return e};var E=(e,t,o)=>(o=e!=null?v(A(e)):{},R(t||!e||!e.__esModule?y(o,"default",{value:e,enumerable:!0}):o,e));var d=require("discord.js"),C=E(require("dotenv"));var m={eightminutemead:"https://youtu.be/nA7tLIFcgts",meadmistakes:"https://youtu.be/rCN-TSSsRmc",yeasttest:"https://youtu.be/-_shVjrZIO4",applecinnamon:"https://youtu.be/NF1dhaeysB0",bottlecarbonation:"https://youtu.be/ipPIbB8tS0M",sweetmead:"https://youtu.be/sOpBxyrANlQ",hoppedblueberry:"https://youtu.be/dzUa_K-iRCY",carbonatedblueberry:"https://youtu.be/yAwLpol-G6A",allstyles:"https://youtu.be/08eQ-ylpvKk",discordmead1:"https://youtu.be/K78YNSn5sd8",discordmead2:"https://youtu.be/21OMY2OMmFg",discordmead3:" https://youtu.be/v0PnWMp0COw",discordmead4:"https://youtu.be/ZHfCwTogiqo",discordmead5:"https://youtu.be/wrL0TTeRu0w",discordmead6:"https://youtu.be/RqouA9Fl01s",discordmead7:"https://youtu.be/90HIPS_dnEM",discordmead8:"https://youtu.be/Todjm7wGbPU",brewsysucks:"https://youtu.be/2m-EmXL8QOo",peppermintmead:"https://youtu.be/6T7BdYta4YQ",mixedberrymead:"https://youtu.be/0J-p54wh1tI",rootbeermead:"https://youtu.be/UGuJgqhMwxU",teamead:"https://youtu.be/3Npbhc7Jp1k",pinacolada:"https://youtu.be/INJ-bxrRCBE",redpyment:"https://youtu.be/jESTDN9eqhU",meadmakingprocess:" https://youtu.be/NQmhIQXnnNg",whitepyment:"https://youtu.be/JXit06hwAZY",punishingyeast:"https://youtu.be/CsMJmDdQ-_o",dndmead:"https://youtu.be/GsHlL_Suw4M",hothoney:"https://youtu.be/cBZXGCQFX8I",meadsquidgame:"https://youtu.be/gGD9OuZtILc",cucumberlime:"https://youtu.be/hnT3RXN9v-Q"};var $=["Beginner","10 Meads","20 Meads","25 Meads","30 Meads","40 Meads","50 Meads","75 Meads","100 Meads"],x=$.reduce((e,t)=>`${e}
- ${t}`),O=Object.keys(m).reduce((e,t)=>`${e}
- ${t}`),l=[{command:"!help",response:`# **Welcome to MMMeadBot!**

If you want a list of available commands, run **!list**

If you would like to change your rank, run **?rank (requested rank)**
This will add you to a private channel with your own little mead community.

Run **!recipes** to see a list of common recipes, or **!recipes (recipe name)** to see an individual recipe.`},{command:"!listranks",response:`Here is a list of available ranks: 
- ${x}`},{command:"?rank",response:"The rank command allows you to change your current rank based on the number of meads you have completed."},{command:"!recipes",response:`Here is the full list of recipes.
- ${O}

Run !recipes (recipe name) to get an individual recipe`},{command:"!abv",response:""},{command:"!meadtools",response:`Calculator: https://meadtools.com/
Video walkthrough: https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq`},{command:"!meadnotes",response:`https://docs.google.com/document/d/1O0ebgOewuK0a1JKEsmlco3QJ0bp5B0tgGnbGm5S8syU/edit?usp=sharing
Here are the Mead notes from the mead making 101-501 series.`},{command:"!honeylist",response:`Here is a list of honey vendors from our wonderful moderator Texas Longhouse Mead.
- https://www.gardnerbees.buzz/shop
- https://www.walkerhoneyfarm.com/
- https://www.dutchgoldhoney.com/
- https://beenaturalhoney.com/
- https://flyingbeeranch.net/
- https://zspecialtyfood.com/
- https://www.sweetneshoney.com/
- https://beeseasonal.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOTwO6rQyWHvh2aGVKShJ-Y7wJ2Y4adWFiQh3HbqL0hjCgciv-GTDgRoCHRIQAvD_BwE
- https://hawaiianhoneyats.com/
- https://www.sleepingbearfarms.com/product-category/raw-honey/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOXwDjr0HpedW3b5qWe4DppeU_4-Zd48mqSCczWRfQIFkfp2-S6HyjhoCogUQAvD_BwE
- https://www.desertcreekhoney.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOSJUYJDdJucdXRao6sMM4Hbl81_pML7aJ-ZPEBrISgx3joGC5NPy8xoCICAQAvD_BwE
- https://savannahbee.com/?gclid=CjwKCAjw-L-ZBhB4EiwA76YzOVfGxD75mvkq38gsWncycP5T7m-yKFEArPeUeRhbybkul14IHzcm-BoCsv8QAvD_BwE`},{command:"!equipmentlist",response:"Here is basic equipment list: https://discord.com/channels/568934729676488704/853838172059729920/949501378462634035"},{command:"!raptPillBt",response:"Check out this cool project: https://discord.com/channels/568934729676488704/853838172059729920/1247224944283353148"}],p="?rank ",g=e=>{let t=!1;return["Administrator","Moderator","Mazer of the Week","Patreon Bot","Discord Mead Leader","MMM Patron","Mead Bot","Rythm","Server Booster","EasyPoll","Live Countdown Bot","YouTube Member","technician","YouTube","YT Bot","UMM2024","UMM 2024 Purgatory Member"].forEach(i=>{(i.toLowerCase()===e.toLowerCase()||i.toLowerCase().includes(e.toLowerCase()))&&(t=!0)}),t};var I=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,w=(e,t)=>{let o=-668.962+1262.45*e-776.43*e**2+182.94*e**3,i=-668.962+1262.45*t-776.43*t**2+182.94*t**3,a=.22+.001*o,n=(a*o+i)/(1+a),r=(o-n)/(2.0665-.010665*o),s=Math.round(r*(t/.794)*100)/100;return[Math.round(I(t)+4.5*s),s]};var h=require("discord.js"),f=(e,t)=>{let o=t.includes("kick")?"kick":"ban";if(!(e.member?.permissionsIn(e.channel.id).has(h.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(h.PermissionsBitField.Flags.ModerateMembers))){e.channel.send("Nice try, but you don't have the power");return}let[,i]=t.split(" ");if(!i){e.channel.send(`You need to specify a user to ${o}.`);return}let a=e.mentions.users.first();if(!a){e.channel.send("User not found.");return}o==="kick"?e.guild?.members.kick(a):e.guild?.members.ban(a),e.channel.send(`${a.tag} has been ${o}ed.`)};C.default.config();var{token:S,welcomeChannel:Y="",botSpamChannel:j=""}=process.env,u=new d.Client({intents:[d.GatewayIntentBits.Guilds,d.GatewayIntentBits.GuildMessages,d.GatewayIntentBits.MessageContent,d.GatewayIntentBits.GuildMembers,d.GatewayIntentBits.GuildPresences]});u.login(S);u.once(d.Events.ClientReady,e=>{console.log(`Ready! Logged in as ${e.user.tag}`)});u.on("messageCreate",e=>{if(e.author.bot)return;let t=e.content,{member:o}=e;if(t.startsWith("?kick")||t.startsWith("?ban"))return f(e,t);let i=o?.roles.cache.filter(n=>n.name.toLowerCase().includes("mead")||n.name.toLowerCase()==="beginner");if(t.toLowerCase().startsWith(p)){let n=t.substring(p.length);if(g(n)){e.channel.send(`You are in this discord server, but we do not grant you the rank of ${n}`);return}let r=e.guild?.roles.cache.find(s=>(n==="10"&&(n="10 "),s.name.toLowerCase()===n.toLowerCase()||s.name.toLowerCase().includes(n.toLowerCase())));if(!r){e.channel.send(`The role ${n} is not a valid role.`);return}i?.forEach(s=>o?.roles.remove(s.id)),o?.roles.add(r.id),e.channel.send(`You have been assigned to role "${r.name}"`).catch(s=>console.error(s));return}if(t.toLowerCase().startsWith("!recipes")){let[,n]=t.split(" "),r=n?.toLowerCase()||"";if(n&&r in m){e.channel.send(m[r]);return}else if(n){e.channel.send(`The recipe ${n} is not a valid recipe command.`);return}}if(t.toLowerCase().startsWith("!abv")){let[,n,r]=t.split(" "),[s,c]=[Number(n),Number(r)||.996];if(isNaN(s)||isNaN(c)||s<c||s>1.22||c>1.22||s-c>.165){e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");return}let[k,M]=w(s,c);e.channel.send(`An OG of ${s} and an FG of ${c} will make ${M}% ABV and ${k} delle units.`);return}for(let n of l)(n.command===t||t.includes(n.command))&&e.channel.send(n.response).catch(r=>console.error(r));let a=n=>{let r=[];return r=n.map(s=>`${s.command}
`),r};if(t=="!list"){let n=`
**Available Bot Commands**
`,r=a(l),c=`${n}${r}`.replaceAll(",","");e.channel.send(c).catch(b=>console.error(b))}});u.on("guildMemberAdd",e=>{u.channels.cache.get(Y).send(`Welcome to the MMM Discord Server <@${e.user.id}>!

 Please head over to <#${j}> and run **?rank (rank)** to recieve a rank and join your mini mead making community.

Run **!recipes** to get a list of popular MMM recipes.

You can find a list of all commands by running **!list**`)});
