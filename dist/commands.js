"use strict";var w=Object.create;var i=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var $=(e,o)=>{for(var t in o)i(e,t,{get:o[t],enumerable:!0})},p=(e,o,t,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of S(o))!x.call(e,a)&&a!==t&&i(e,a,{get:()=>o[a],enumerable:!(s=L(o,a))||s.enumerable});return e};var l=(e,o,t)=>(t=e!=null?w(R(e)):{},p(o||!e||!e.__esModule?i(t,"default",{value:e,enumerable:!0}):t,e)),v=e=>p(i({},"__esModule",{value:!0}),e);var z={};$(z,{getCommands:()=>h,handleCommands:()=>P,isUnauthorized:()=>E,rankCommand:()=>q});module.exports=v(z);var c=l(require("mongoose")),k=new c.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),u=c.default.models.Command||c.default.model("Command",k);var m=l(require("mongoose")),B=new m.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),f=m.default.models.Recipe||m.default.model("Recipe",B);var M=async()=>await f.find();var T=["Beginner","10 Meads","20 Meads","25 Meads","30 Meads","40 Meads","50 Meads","75 Meads","100 Meads"],b=T.reduce((e,o)=>`${e}
- ${o}`),h=async()=>await u.find(),q="?rank ",E=e=>{let o=!1;return["@everyone","Everyone","@Everyone","everyone","Administrator","Moderator","Mazer of the Week","Patreon Bot","Discord Mead Leader","MMM Patron","Mead Bot","Rythm","Server Booster","EasyPoll","Live Countdown Bot","YouTube Member","technician","YouTube","YT Bot","UMM2024","UMM 2024 Purgatory Member","Commercial"].forEach(s=>{(s.toLowerCase()===e.toLowerCase()||s.toLowerCase().includes(e.toLowerCase()))&&(o=!0)}),o},P=async(e,o)=>{let t=await M(),s=await h(),a=t.map(n=>n.name).reduce((n,r)=>`${n}
- ${r}`);for(let n of s){if(e.includes("!recipes "))return;(n.command===e||e.startsWith(n.command))&&(e.toLowerCase().startsWith("!listranks")&&(n.response+=` 
- ${b}`),e==="!recipes"&&(n.response+=` 
- ${a}`),o.channel.send(n.response).catch(r=>console.error(r)))}let g=n=>{let r=[];return r=n.map(d=>`${d.command}
`),r.push("!abv"),r};if(e=="!list"){let n=`
**Available Bot Commands**
`,r=g(s),C=`${n}${r}`.replaceAll(",","");o.channel.send(C).catch(y=>console.error(y))}};0&&(module.exports={getCommands,handleCommands,isUnauthorized,rankCommand});
