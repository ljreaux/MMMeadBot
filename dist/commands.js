"use strict";var x=Object.create;var a=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var A=(n,t)=>{for(var o in t)a(n,o,{get:t[o],enumerable:!0})},f=(n,t,o,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b(t))!v.call(n,s)&&s!==o&&a(n,s,{get:()=>t[s],enumerable:!(p=k(t,s))||p.enumerable});return n};var h=(n,t,o)=>(o=n!=null?x(q(n)):{},f(t||!n||!n.__esModule?a(o,"default",{value:n,enumerable:!0}):o,n)),M=n=>f(a({},"__esModule",{value:!0}),n);var N={};A(N,{getCommands:()=>y,handleCommands:()=>I});module.exports=M(N);var m=h(require("mongoose")),T=new m.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),g=m.default.models.Command||m.default.model("Command",T);var d=h(require("mongoose")),B=new d.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),C=d.default.models.Recipe||d.default.model("Recipe",B);var w=async()=>await C.find();var y=async()=>await g.find(),I=async(n,t)=>{let s=(t?.guild?.roles.cache.filter(e=>e.name.toLowerCase().includes("meads")||e.name.toLowerCase()==="beginner")?.map(e=>e.name).sort((e,r)=>{let i=/^\d+/.test(e),c=/^\d+/.test(r);if(i&&c){let l=parseInt(e.match(/^\d+/)[0],10),$=parseInt(r.match(/^\d+/)[0],10);return l-$}else return i?1:c?-1:e.localeCompare(r)})||[]).reduce((e,r)=>`${e}
- ${r}`),S=await w(),u=await y(),L=S.map(e=>e.name).reduce((e,r)=>`${e}
- ${r}`);for(let e of u){if(n.includes("!recipes ")||n.includes("!video "))return;n.startsWith(e.command)&&(n.toLowerCase().startsWith("!listranks")&&(e.response+=` 
- ${s}`),n==="!recipes"&&(e.response+=` 
- ${L}`),t.channel.send(e.response).catch(r=>console.error(r)))}let R=e=>{let r=e.map(i=>`${i.command}
`);return r.push("!abv"),r};if(n=="!list"){let e=`
**Available Bot Commands**
`,r=R(u),c=`${e}${r}`.replaceAll(",","");return t.channel.send(c).catch(l=>console.error(l))}};0&&(module.exports={getCommands,handleCommands});
