"use strict";var f=Object.create;var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var w=(o,e)=>{for(var r in e)a(o,r,{get:e[r],enumerable:!0})},m=(o,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of C(e))!g.call(o,n)&&n!==r&&a(o,n,{get:()=>e[n],enumerable:!(s=h(e,n))||s.enumerable});return o};var l=(o,e,r)=>(r=o!=null?f(M(o)):{},m(e||!o||!o.__esModule?a(r,"default",{value:o,enumerable:!0}):r,o)),y=o=>m(a({},"__esModule",{value:!0}),o);var x={};w(x,{handleRoleCommands:()=>k});module.exports=y(x);var i=l(require("mongoose")),L=new i.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),v=i.default.models.Command||i.default.model("Command",L);var c=l(require("mongoose")),R=new c.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),$=c.default.models.Recipe||c.default.model("Recipe",R);var S=["Beginner","10 Meads","20 Meads","25 Meads","30 Meads","40 Meads","50 Meads","75 Meads","100 Meads"],U=S.reduce((o,e)=>`${o}
- ${e}`);var p="?rank ",u=o=>{let e=!1;return["@everyone","Everyone","@Everyone","everyone","Administrator","Moderator","Mazer of the Week","Patreon Bot","Discord Mead Leader","MMM Patron","Mead Bot","Rythm","Server Booster","EasyPoll","Live Countdown Bot","YouTube Member","technician","YouTube","YT Bot","UMM2024","UMM 2024 Purgatory Member","Commercial"].forEach(s=>{(s.toLowerCase()===o.toLowerCase()||s.toLowerCase().includes(o.toLowerCase()))&&(e=!0)}),e};var k=(o,e,r)=>{let s=r?.roles.cache.filter(t=>t.name.toLowerCase().includes("mead")||t.name.toLowerCase()==="beginner"),n=o.substring(p.length);if(n.toLowerCase().includes("every")||n.toLowerCase().includes("@")){e.channel.send("Nice try. No ping for you.");return}if(u(n)){e.channel.send(`You are in this discord server, but we do not grant you the rank of ${n}`);return}let d=e.guild?.roles.cache.find(t=>(n==="10"&&(n="10 "),n.length===1&&(n+=" "),t.name.toLowerCase()===n.toLowerCase()||t.name.toLowerCase().startsWith(n.toLowerCase())));if(!d){e.channel.send(`The role ${n} is not a valid role.`);return}s?.forEach(t=>r?.roles.remove(t.id)),r?.roles.add(d.id),e.channel.send(`You have been assigned to role "${d.name}"`).catch(t=>console.error(t))};0&&(module.exports={handleRoleCommands});
