"use strict";var h=Object.create;var s=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var L=(e,o)=>{for(var n in o)s(e,n,{get:o[n],enumerable:!0})},m=(e,o,n,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of g(o))!w.call(e,r)&&r!==n&&s(e,r,{get:()=>o[r],enumerable:!(a=M(o,r))||a.enumerable});return e};var l=(e,o,n)=>(n=e!=null?h(C(e)):{},m(o||!e||!e.__esModule?s(n,"default",{value:e,enumerable:!0}):n,e)),y=e=>m(s({},"__esModule",{value:!0}),e);var v={};L(v,{handleRoleCommands:()=>b});module.exports=y(v);var i=l(require("mongoose")),R=new i.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),$=i.default.models.Command||i.default.model("Command",R);var c=l(require("mongoose")),k=new c.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),S=c.default.models.Recipe||c.default.model("Recipe",k);var x=["Beginner","10 Meads","20 Meads","25 Meads","30 Meads","40 Meads","50 Meads","75 Meads","100 Meads"],E=x.reduce((e,o)=>`${e}
- ${o}`);var p="?rank ",u=e=>{let o=!1;return["Administrator","Moderator","Mazer of the Week","Patreon Bot","Discord Mead Leader","MMM Patron","Mead Bot","Rythm","Server Booster","EasyPoll","Live Countdown Bot","YouTube Member","technician","YouTube","YT Bot","UMM2024","UMM 2024 Purgatory Member","Commercial"].forEach(a=>{(a.toLowerCase()===e.toLowerCase()||a.toLowerCase().includes(e.toLowerCase()))&&(o=!0)}),o};var b=(e,o,n)=>{let a=n?.roles.cache.filter(t=>t.name.toLowerCase().includes("mead")||t.name.toLowerCase()==="beginner"),r=e.substring(p.length);if(u(r)){o.channel.send(`You are in this discord server, but we do not grant you the rank of ${r}`);return}let d=o.guild?.roles.cache.find(t=>{let[f]=r.split(" ");return r==="10"&&(r="10 "),t.name.toLowerCase()===r.toLowerCase()||t.name.toLowerCase()==f});if(!d){o.channel.send(`The role ${r} is not a valid role.`);return}a?.forEach(t=>n?.roles.remove(t.id)),n?.roles.add(d.id),o.channel.send(`You have been assigned to role "${d.name}"`).catch(t=>console.error(t))};0&&(module.exports={handleRoleCommands});
