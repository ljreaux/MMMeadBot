"use strict";var l=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var y=(e,s)=>{for(var t in s)l(e,t,{get:s[t],enumerable:!0})},b=(e,s,t,a)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of w(s))!F.call(e,n)&&n!==t&&l(e,n,{get:()=>s[n],enumerable:!(a=C(s,n))||a.enumerable});return e};var v=e=>b(l({},"__esModule",{value:!0}),e);var P={};y(P,{default:()=>h});module.exports=v(P);var r=require("discord.js"),{guildId:m}=process.env;async function h(e){let s="251250155960008704",t="434942205426401322",a=" https://res.cloudinary.com/devhg2clt/video/upload/v1734387048/1734386607_1734386559268_80482C2B5BB4131734386559_by9g3y.mp4";try{if(!m)throw new Error("Missing guildId in environment variables.");let n=await e.guilds.fetch(m),i=(await n.channels.fetch()).filter(o=>{if(o?.type!==r.ChannelType.GuildText)return!1;let u=o?.permissionsFor(n.members.me),f=o?.permissionsFor(s),p=o?.permissionsFor(t);return u?.has(r.PermissionsBitField.Flags.SendMessages)&&f?.has(r.PermissionsBitField.Flags.ViewChannel)&&p?.has(r.PermissionsBitField.Flags.ViewChannel)});if(console.log(i.map(o=>o?.name)),!i.size)throw new Error("No suitable text channels available.");let g=i.random(),c=Math.random(),d=`Hi, <@${c<.25?t:s}>`;c>.75&&(d+=a),await g.send(d)}catch(n){console.error("Error selecting or sending to a random channel",n);return}}
