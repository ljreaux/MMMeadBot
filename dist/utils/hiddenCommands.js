"use strict";var L=Object.create;var d=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var I=(e,t)=>{for(var o in t)d(e,o,{get:t[o],enumerable:!0})},b=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of j(t))!F.call(e,n)&&n!==o&&d(e,n,{get:()=>t[n],enumerable:!(r=_(t,n))||r.enumerable});return e};var v=(e,t,o)=>(o=e!=null?L(O(e)):{},b(t||!e||!e.__esModule?d(o,"default",{value:e,enumerable:!0}):o,e)),U=e=>b(d({},"__esModule",{value:!0}),e);var oe={};I(oe,{hiddenCommands:()=>te});module.exports=U(oe);var m=v(require("mongoose")),P=new m.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),w=m.default.models.Recipe||m.default.model("Recipe",P);var q=async()=>await w.find(),x=async e=>{let t=await q(),o=e.content,[,r]=o.split(" ");if(!r)return;let n=r?.toLowerCase()||"",s=t.find(a=>a.name===n);if(s){e.channel.send(s.link);return}else if(r){e.channel.send(`The recipe ${r} is not a valid recipe command.`);return}};var k=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,G=(e,t)=>{let o=-668.962+1262.45*e-776.43*e**2+182.94*e**3,r=-668.962+1262.45*t-776.43*t**2+182.94*t**3,n=.22+.001*o,s=(n*o+r)/(1+n),a=(o-s)/(2.0665-.010665*o),i=Math.round(a*(t/.794)*100)/100;return[Math.round(k(t)+4.5*i),i]},y=e=>{let t=e.content,[,o,r]=t.split(" "),[n,s]=[Number(o),Number(r)||.996];if(isNaN(n)||isNaN(s)||n<s||n>1.22||s>1.22||n-s>.165)return e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");let[i,c]=G(n,s),h=`An OG of ${n.toFixed(3)} and an FG of ${s.toFixed(3)} will make ${c}% ABV and ${i} delle units.`;return e.channel.send(h)},M=e=>{let t=e.content,[,o,r]=t.split(" "),n=parseFloat(o),s=parseFloat(r);if(isNaN(n)||isNaN(s))return e.channel.send("Please enter a valid ABV and FG.");if(n>23)return e.channel.send("The ABV provided is too high.");let a=Math.round(k(s)+4.5*n),i=a>=73,c=`**${n.toFixed(2)}%** ABV and a final gravity of **${s.toFixed(3)}** will give you **${a} delle units**.
`,h=i?"Your brew is likely stable without chemical stabilizers.":"Your brew will need stabilizers to prevent refermentation.";return e.channel.send(c+h)};var u=require("discord.js");var l=v(require("mongoose")),z=new l.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),p=l.default.models.video||l.default.model("video",z);var f=e=>e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(u.PermissionsBitField.Flags.ModerateMembers),g=e=>{let t=e.content,o=t.includes("kick")?"kick":"ban";if(!f(e))return e.channel.send("Nice try, but you don't have the power");let[,r]=t.split(" ");if(!r)return e.channel.send(`You need to specify a user to ${o}.`);let n=e.mentions.users.first();return n?(o==="kick"?e.guild?.members.kick(n):e.guild?.members.ban(n),e.channel.send(`${n.tag} has been ${o}ed.`)):e.channel.send("User not found.")};var D=async e=>{let{command:t,response:o}=e,n=await new p({command:t,response:o}).save();return{command:n.command,response:n.response,id:n._id.toString()}},C=async e=>{if(!f(e))return e.channel.send("Nice try, but you don't have the power");let[,t]=e.content.split(" "),o=e.attachments.first();if(!o||!t)return e.channel.send("Please provide a video attachment and command name.");let r=o.url,n=`!video ${t}`;return await D({command:n,response:r})?e.channel.send(`${t} has been successfully added.`):e.channel.send("Something went wrong.")},A=e=>{if(f(e))return e.channel.send("Here are all the admin commands:\n1. ?kick `@user`\n2. ?ban `@user`\n3. ?registerVideo `video name` (attach video to message)\n4. To send a message from the bot, enter the following separated by spaces:\n  - `@MMMeadBot`\n  - `#channel-name`\n  - Your Message\n5. To add new commands visit the [admin dashboard.](https://mmmeadbot-admin-dashboard.vercel.app/)\n   ")};var Y=async()=>await p.find(),V=async e=>{let t=await Y(),o=e.content,[,r]=o.split(" ");if(!r)return;let n=r?.toLowerCase()||"",s=t.find(a=>a.command.includes(n));return s?e.channel.send(s.response):e.channel.send(`The video ${r} is not a valid video command.`)};var R=["https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=66f1cd1c&is=66f07b9c&hm=3d635d01f15e0522b2549b07d96f7c18e087a9bbb3d9d8782e1b170042eddb5c&=&format=webp&width=924&height=1232","https://media.discordapp.net/attachments/756322400890650635/1287570767675916341/20240922_202600.jpg?ex=66f20738&is=66f0b5b8&hm=a3997db24c2f3cdd6efdc18145b06ad095585b342ad7479ba5f298adeede61f0&=&format=webp&width=576&height=1232","https://cdn.discordapp.com/attachments/795860418056159244/1128472098604580995/20230605_113657.jpg?ex=66f1fd8a&is=66f0ac0a&hm=178a7995ee8333bf9908946a6dde17956a53c0987b506f86e5966a840b3624b2&","https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=6722949c&is=6721431c&hm=39b52f65399074f44b7f64d7609fd602baaa5adef90cce23c9eed0525771e320&format=webp&width=924&height=1232&","https://media.discordapp.net/attachments/568934729676488706/1300924513919303843/20241029_214606.jpg?ex=67229bde&is=67214a5e&hm=b9ff518e9bab96d48245661c5c08a74134a8b1697bd4429d84a212dd9819450b&=&format=webp&width=1620&height=1216"],W=()=>R[Math.floor(Math.random()*R.length)],$=W;var H="https://cloudinary-dv10-api.vercel.app/api/list-media",J=async()=>{try{let e=await fetch(H);if(!e.ok)throw new Error(`Failed to fetch images: ${e.statusText}`);return(await e.json()).resources.filter(r=>r.secure_url).map(r=>r.secure_url)}catch(e){return console.error("Error fetching Cloudinary images:",e),[]}},N=async()=>{try{let e=await J();if(e.length)return e[Math.floor(Math.random()*e.length)];throw new Error("No images found in the Cloudinary folder.")}catch(e){return console.error(e),"No images available."}};var K="https://meadtools.com",Q=["nutes","nutrients","nuteCalc"].map(e=>({arg:e,link:"/NuteCalc"})),Z=["brixCalc","estOG","benchTrials","sulfite","sorbate","RefractometerCorrection","tempCorrection","blending"].map(e=>({arg:e,link:`/ExtraCalcs/${e}`})),X=[...Q,...Z,{arg:"stabilizers",link:"/stabilizers"},{arg:"abv",link:"/ExtraCalcs"},{arg:"brix",link:"/ExtraCalcs/brixCalc"},{arg:"temp",link:"/ExtraCalcs/tempCorrection"},{arg:"refractometer",link:"/ExtraCalcs/RefractometerCorrection"},{arg:"estimatedOG",link:"/ExtraCalcs/estOG"},{arg:"trials",link:"/ExtraCalcs/benchTrials"},{arg:"juice",link:"/juice"}].map(e=>({...e,link:`${K}${e.link}`})),E=[...X,{arg:"yeast",link:"https://yeasts.meadtools.com"}],B=e=>{let t=`[Calculator](<https://meadtools.com/>)
[Video walkthrough](<https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq>)

Run the command again with an argument from the list to get a more specific link. 
Run \`!arglist\`  for a list of arguments
  `,[,o]=e.content.split(" "),r=E.find(n=>o?.toLowerCase().startsWith(n.arg.toLowerCase()));return r?e.channel.send(r.link):e.channel.send(t)},S=e=>{let t=E.groupBy(r=>r.link),o=Object.entries(t).map(([r,n])=>{let s=r.split("/").pop()||"",a=n.map(i=>`- ${i.arg}`).join(`
`);return`**${s}**
${a}`}).join(`

`);e.channel.send(`Here are all the available arguments organized by URL path:

${o}`)};var{MEAD_MENTOR_ROLE_ID:ee=""}=process.env,ne=e=>{let o=e.guild?.roles.cache.get(ee)?.members?.map(r=>r.displayName).reduce((r,n)=>r+=`- ${n}
`,`
`);if(!o)return e.channel.send("No mead mentors found.");e.channel.send(`The current Mead Mentors: ${o}`)},T=ne;var te=[{command:"?kick",func:g},{command:"?ban",func:g},{command:"!recipes",func:x},{command:"!video",func:V},{command:"!abv",func:y},{command:"!delle",func:M},{command:"?registerVideo",func:C},{command:"!adminlist",func:A},{command:"!meadtools",func:B},{command:"!arglist",func:S},{command:"!mentorlist",func:T},{command:"!flip",func:e=>e.channel.send("\u{1F6AB} No flips allowed! \u{1F6AB}")},{command:"!bakingsoda",func:e=>e.channel.send("Baking soda is not a mead ingredient!!")},{command:"!avocadohoney",func:e=>e.channel.send($())},{command:"!dv10",func:async e=>e.channel.send(await N())}];0&&(module.exports={hiddenCommands});
