"use strict";var F=Object.create;var d=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var q=(e,n)=>{for(var o in n)d(e,o,{get:n[o],enumerable:!0})},w=(e,n,o,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of O(n))!P.call(e,t)&&t!==o&&d(e,t,{get:()=>n[t],enumerable:!(r=I(n,t))||r.enumerable});return e};var u=(e,n,o)=>(o=e!=null?F(U(e)):{},w(n||!e||!e.__esModule?d(o,"default",{value:e,enumerable:!0}):o,e)),G=e=>w(d({},"__esModule",{value:!0}),e);var ie={};q(ie,{hiddenCommands:()=>ae});module.exports=G(ie);var l=u(require("mongoose")),z=new l.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),x=l.default.models.Recipe||l.default.model("Recipe",z);var Y=async()=>await x.find(),y=async e=>{let n=await Y(),o=e.content,[,r]=o.split(" ");if(!r)return;let t=r?.toLowerCase()||"",s=n.find(a=>a.name===t);if(s){e.channel.send(s.link);return}else if(r){e.channel.send(`The recipe ${r} is not a valid recipe command.`);return}};var k=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,W=(e,n)=>{let o=-668.962+1262.45*e-776.43*e**2+182.94*e**3,r=-668.962+1262.45*n-776.43*n**2+182.94*n**3,t=.22+.001*o,s=(t*o+r)/(1+t),a=(o-s)/(2.0665-.010665*o),i=Math.round(a*(n/.794)*100)/100;return[Math.round(k(n)+4.5*i),i]},M=e=>{let n=e.content,[,o,r]=n.split(" "),[t,s]=[Number(o),Number(r)||.996];if(isNaN(t)||isNaN(s)||t<s||t>1.22||s>1.22||t-s>.165)return e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");let[i,c]=W(t,s),f=`An OG of ${t.toFixed(3)} and an FG of ${s.toFixed(3)} will make ${c}% ABV and ${i} delle units.`;return e.channel.send(f)},C=e=>{let n=e.content,[,o,r]=n.split(" "),t=parseFloat(o),s=parseFloat(r);if(isNaN(t)||isNaN(s))return e.channel.send("Please enter a valid ABV and FG.");if(t>23)return e.channel.send("The ABV provided is too high.");let a=Math.round(k(s)+4.5*t),i=a>=73,c=`**${t.toFixed(2)}%** ABV and a final gravity of **${s.toFixed(3)}** will give you **${a} delle units**.
`,f=i?"Your brew is likely stable without chemical stabilizers.":"Your brew will need stabilizers to prevent refermentation.";return e.channel.send(c+f)};var b=require("discord.js");var m=u(require("mongoose")),H=new m.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),p=m.default.models.video||m.default.model("video",H);var g=u(require("fs")),J="https://cloudinary-dv10-api.vercel.app/api/list-media",A=async()=>{try{let e=await fetch(J);if(!e.ok)throw new Error(`Failed to fetch images: ${e.statusText}`);return(await e.json()).resources.filter(r=>r.secure_url).map(r=>r.secure_url)}catch(e){return console.error("Error fetching Cloudinary images:",e),[]}},V=async e=>{try{let n=e.join(`
`);g.default.writeFileSync("images.txt",n),console.log("Images written to images.txt")}catch(n){console.error("Error writing to file:",n)}},K=()=>{try{return g.default.readFileSync("images.txt","utf8").split(`
`)}catch(e){return console.error(e),[]}},R=async()=>{try{let e=K();if(e.length)return e[Math.floor(Math.random()*e.length)];throw new Error("No images found in the Cloudinary folder.")}catch(e){return console.error(e),"No images available."}};var h=e=>e.member?.permissionsIn(e.channel.id).has(b.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(b.PermissionsBitField.Flags.ModerateMembers),v=e=>{let n=e.content,o=n.includes("kick")?"kick":"ban";if(!h(e))return e.channel.send("Nice try, but you don't have the power");let[,r]=n.split(" ");if(!r)return e.channel.send(`You need to specify a user to ${o}.`);let t=e.mentions.users.first();return t?(o==="kick"?e.guild?.members.kick(t):e.guild?.members.ban(t),e.channel.send(`${t.tag} has been ${o}ed.`)):e.channel.send("User not found.")};var Q=async e=>{let{command:n,response:o}=e,t=await new p({command:n,response:o}).save();return{command:t.command,response:t.response,id:t._id.toString()}},$=async e=>{if(!h(e))return e.channel.send("Nice try, but you don't have the power");let[,n]=e.content.split(" "),o=e.attachments.first();if(!o||!n)return e.channel.send("Please provide a video attachment and command name.");let r=o.url,t=`!video ${n}`;return await Q({command:t,response:r})?e.channel.send(`${n} has been successfully added.`):e.channel.send("Something went wrong.")},N=async e=>{if(!h(e))return e.channel.send("Nice try, but you don't have the power");let n=await A();return await V(n),e.channel.send("DV10 file has been refreshed.")},E=e=>{if(h(e))return e.channel.send("Here are all the admin commands:\n1. ?kick `@user`\n2. ?ban `@user`\n3. ?registerVideo `video name` (attach video to message)\n4. To send a message from the bot, enter the following separated by spaces:\n  - `@MMMeadBot`\n  - `#channel-name`\n  - Your Message\n5. To add new commands visit the [admin dashboard.](https://mmmeadbot-admin-dashboard.vercel.app/)\n6. To refresh the DV10 file, use the command:\n  - `!refreshDv10`\n   ")};var Z=async()=>await p.find(),S=async e=>{let n=await Z(),o=e.content,[,r]=o.split(" ");if(!r)return;let t=r?.toLowerCase()||"",s=n.find(a=>a.command.includes(t));return s?e.channel.send(s.response):e.channel.send(`The video ${r} is not a valid video command.`)};var T=["https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=66f1cd1c&is=66f07b9c&hm=3d635d01f15e0522b2549b07d96f7c18e087a9bbb3d9d8782e1b170042eddb5c&=&format=webp&width=924&height=1232","https://media.discordapp.net/attachments/756322400890650635/1287570767675916341/20240922_202600.jpg?ex=66f20738&is=66f0b5b8&hm=a3997db24c2f3cdd6efdc18145b06ad095585b342ad7479ba5f298adeede61f0&=&format=webp&width=576&height=1232","https://cdn.discordapp.com/attachments/795860418056159244/1128472098604580995/20230605_113657.jpg?ex=66f1fd8a&is=66f0ac0a&hm=178a7995ee8333bf9908946a6dde17956a53c0987b506f86e5966a840b3624b2&","https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=6722949c&is=6721431c&hm=39b52f65399074f44b7f64d7609fd602baaa5adef90cce23c9eed0525771e320&format=webp&width=924&height=1232&","https://media.discordapp.net/attachments/568934729676488706/1300924513919303843/20241029_214606.jpg?ex=67229bde&is=67214a5e&hm=b9ff518e9bab96d48245661c5c08a74134a8b1697bd4429d84a212dd9819450b&=&format=webp&width=1620&height=1216"],X=()=>T[Math.floor(Math.random()*T.length)],B=X;var ee="https://meadtools.com",ne=["nutes","nutrients","nuteCalc"].map(e=>({arg:e,link:"/NuteCalc"})),te=["brixCalc","estOG","benchTrials","sulfite","sorbate","RefractometerCorrection","tempCorrection","blending"].map(e=>({arg:e,link:`/ExtraCalcs/${e}`})),oe=[...ne,...te,{arg:"stabilizers",link:"/stabilizers"},{arg:"abv",link:"/ExtraCalcs"},{arg:"brix",link:"/ExtraCalcs/brixCalc"},{arg:"temp",link:"/ExtraCalcs/tempCorrection"},{arg:"refractometer",link:"/ExtraCalcs/RefractometerCorrection"},{arg:"estimatedOG",link:"/ExtraCalcs/estOG"},{arg:"trials",link:"/ExtraCalcs/benchTrials"},{arg:"juice",link:"/juice"}].map(e=>({...e,link:`${ee}${e.link}`})),L=[...oe,{arg:"yeast",link:"https://yeasts.meadtools.com"}],_=e=>{let n=`[Calculator](<https://meadtools.com/>)
[Video walkthrough](<https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq>)

Run the command again with an argument from the list to get a more specific link. 
Run \`!arglist\`  for a list of arguments
  `,[,o]=e.content.split(" "),r=L.find(t=>o?.toLowerCase().startsWith(t.arg.toLowerCase()));return r?e.channel.send(r.link):e.channel.send(n)},j=e=>{let n=L.groupBy(r=>r.link),o=Object.entries(n).map(([r,t])=>{let s=r.split("/").pop()||"",a=t.map(i=>`- ${i.arg}`).join(`
`);return`**${s}**
${a}`}).join(`

`);e.channel.send(`Here are all the available arguments organized by URL path:

${o}`)};var{MEAD_MENTOR_ROLE_ID:re=""}=process.env,se=e=>{let o=e.guild?.roles.cache.get(re)?.members?.map(r=>r.displayName).reduce((r,t)=>r+=`- ${t}
`,`
`);if(!o)return e.channel.send("No mead mentors found.");e.channel.send(`The current Mead Mentors: ${o}`)},D=se;var ae=[{command:"?kick",func:v},{command:"?ban",func:v},{command:"!recipes",func:y},{command:"!video",func:S},{command:"!abv",func:M},{command:"!delle",func:C},{command:"?registerVideo",func:$},{command:"!refreshImages",func:N},{command:"!adminlist",func:E},{command:"!meadtools",func:_},{command:"!arglist",func:j},{command:"!mentorlist",func:D},{command:"!flip",func:e=>e.channel.send("\u{1F6AB} No flips allowed! \u{1F6AB}")},{command:"!bakingsoda",func:e=>e.channel.send("Baking soda is not a mead ingredient!!")},{command:"!avocadohoney",func:e=>e.channel.send(B())},{command:"!dv10",func:async e=>e.channel.send(await R())}];0&&(module.exports={hiddenCommands});
