"use strict";var L=Object.create;var c=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var O=(e,n)=>{for(var t in n)c(e,t,{get:n[t],enumerable:!0})},g=(e,n,t,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of T(n))!E.call(e,r)&&r!==t&&c(e,r,{get:()=>n[r],enumerable:!(o=_(n,r))||o.enumerable});return e};var b=(e,n,t)=>(t=e!=null?L(j(e)):{},g(n||!e||!e.__esModule?c(t,"default",{value:e,enumerable:!0}):t,e)),I=e=>g(c({},"__esModule",{value:!0}),e);var te={};O(te,{hiddenCommands:()=>ne});module.exports=I(te);var d=b(require("mongoose")),U=new d.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),k=d.default.models.Recipe||d.default.model("Recipe",U);var q=async()=>await k.find(),x=async e=>{let n=await q(),t=e.content,[,o]=t.split(" ");if(!o)return;let r=o?.toLowerCase()||"",s=n.find(a=>a.name===r);if(s){e.channel.send(s.link);return}else if(o){e.channel.send(`The recipe ${o} is not a valid recipe command.`);return}};var P=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,F=(e,n)=>{let t=-668.962+1262.45*e-776.43*e**2+182.94*e**3,o=-668.962+1262.45*n-776.43*n**2+182.94*n**3,r=.22+.001*t,s=(r*t+o)/(1+r),a=(t-s)/(2.0665-.010665*t),i=Math.round(a*(n/.794)*100)/100;return[Math.round(P(n)+4.5*i),i]},v=e=>{let n=e.content,[,t,o]=n.split(" "),[r,s]=[Number(t),Number(o)||.996];if(isNaN(r)||isNaN(s)||r<s||r>1.22||s>1.22||r-s>.165)return e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");let[i,f]=F(r,s),B=`An OG of ${r.toFixed(3)} and an FG of ${s.toFixed(3)} will make ${f}% ABV and ${i} delle units.`;return e.channel.send(B)};var p=require("discord.js");var m=b(require("mongoose")),z=new m.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),l=m.default.models.video||m.default.model("video",z);var u=e=>e.member?.permissionsIn(e.channel.id).has(p.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(p.PermissionsBitField.Flags.ModerateMembers),h=e=>{let n=e.content,t=n.includes("kick")?"kick":"ban";if(!u(e))return e.channel.send("Nice try, but you don't have the power");let[,o]=n.split(" ");if(!o)return e.channel.send(`You need to specify a user to ${t}.`);let r=e.mentions.users.first();return r?(t==="kick"?e.guild?.members.kick(r):e.guild?.members.ban(r),e.channel.send(`${r.tag} has been ${t}ed.`)):e.channel.send("User not found.")};var D=async e=>{let{command:n,response:t}=e,r=await new l({command:n,response:t}).save();return{command:r.command,response:r.response,id:r._id.toString()}},w=async e=>{if(!u(e))return e.channel.send("Nice try, but you don't have the power");let[,n]=e.content.split(" "),t=e.attachments.first();if(!t||!n)return e.channel.send("Please provide a video attachment and command name.");let o=t.url,r=`!video ${n}`;return await D({command:r,response:o})?e.channel.send(`${n} has been successfully added.`):e.channel.send("Something went wrong.")},M=e=>{if(u(e))return e.channel.send("Here are all the admin commands:\n1. ?kick `@user`\n2. ?ban `@user`\n3. ?registerVideo `video name` (attach video to message)\n4. To send a message from the bot, enter the following separated by spaces:\n  - `@MMMeadBot`\n  - `#channel-name`\n  - Your Message\n5. To add new commands visit the [admin dashboard.](https://mmmeadbot-admin-dashboard.vercel.app/)\n   ")};var W=async()=>await l.find(),y=async e=>{let n=await W(),t=e.content,[,o]=t.split(" ");if(!o)return;let r=o?.toLowerCase()||"",s=n.find(a=>a.command.includes(r));return s?e.channel.send(s.response):e.channel.send(`The video ${o} is not a valid video command.`)};var C=["https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=66f1cd1c&is=66f07b9c&hm=3d635d01f15e0522b2549b07d96f7c18e087a9bbb3d9d8782e1b170042eddb5c&=&format=webp&width=924&height=1232","https://media.discordapp.net/attachments/756322400890650635/1287570767675916341/20240922_202600.jpg?ex=66f20738&is=66f0b5b8&hm=a3997db24c2f3cdd6efdc18145b06ad095585b342ad7479ba5f298adeede61f0&=&format=webp&width=576&height=1232","https://cdn.discordapp.com/attachments/795860418056159244/1128472098604580995/20230605_113657.jpg?ex=66f1fd8a&is=66f0ac0a&hm=178a7995ee8333bf9908946a6dde17956a53c0987b506f86e5966a840b3624b2&","https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=6722949c&is=6721431c&hm=39b52f65399074f44b7f64d7609fd602baaa5adef90cce23c9eed0525771e320&format=webp&width=924&height=1232&","https://media.discordapp.net/attachments/568934729676488706/1300924513919303843/20241029_214606.jpg?ex=67229bde&is=67214a5e&hm=b9ff518e9bab96d48245661c5c08a74134a8b1697bd4429d84a212dd9819450b&=&format=webp&width=1620&height=1216"],G=()=>C[Math.floor(Math.random()*C.length)],A=G;var H="https://cloudinary-dv10-api.vercel.app/api/list-media",J=async()=>{try{let e=await fetch(H);if(!e.ok)throw new Error(`Failed to fetch images: ${e.statusText}`);return(await e.json()).resources.filter(o=>o.secure_url).map(o=>o.secure_url)}catch(e){return console.error("Error fetching Cloudinary images:",e),[]}},R=async()=>{try{let e=await J();if(e.length)return e[Math.floor(Math.random()*e.length)];throw new Error("No images found in the Cloudinary folder.")}catch(e){return console.error(e),"No images available."}};var K="https://meadtools.com",Y=["nutes","nutrients","nuteCalc"].map(e=>({arg:e,link:"/nute-calc"})),Q=["brix","estimated-og","bench-trials","sulfite","sorbate","refractometer-correction","temperature-correction","blending","priming-sugar"].map(e=>({arg:e,link:`/extra-calcs/${e}`})),Z=[...Y,...Q,{arg:"stabilizers",link:"/stabilizers"},{arg:"abv",link:"/extra-calcs"},{arg:"brix",link:"/extra-calcs/brix"},{arg:"temp",link:"/extra-calcs/temperature-correction"},{arg:"refractometer",link:"/extra-calcs/refractometer-correction"},{arg:"estimatedOG",link:"/extra-calcs/estimated-og"},{arg:"trials",link:"/extra-calcs/bench-trials"},{arg:"priming",link:"/extra-calcs/priming-sugar"},{arg:"juice",link:"/juice"},{arg:"yeast",link:"/yeast"},{arg:"tutorial",link:"/tutorial"}].map(e=>({...e,link:`${K}${e.link}`})),V=[...Z],$=e=>{let n=`[Calculator](<https://meadtools.com/>)
[Video walkthrough](<https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq>)

Run the command again with an argument from the list to get a more specific link. 
Run \`!arglist\`  for a list of arguments
  `,[,t]=e.content.split(" "),o=V.find(r=>t?.toLowerCase().startsWith(r.arg.toLowerCase()));return o?e.channel.send(o.link):e.channel.send(n)},N=e=>{let n=V.groupBy(o=>o.link),t=Object.entries(n).map(([o,r])=>{let s=o.split("/").pop()||"",a=r.map(i=>`- ${i.arg}`).join(`
`);return`**${s}**
${a}`}).join(`

`);e.channel.send(`Here are all the available arguments organized by URL path:

${t}`)};var{MEAD_MENTOR_ROLE_ID:X=""}=process.env,ee=e=>{let t=e.guild?.roles.cache.get(X)?.members?.map(o=>o.displayName).reduce((o,r)=>o+=`- ${r}
`,`
`);if(!t)return e.channel.send("No mead mentors found.");e.channel.send(`The current Mead Mentors: ${t}`)},S=ee;var ne=[{command:"?kick",func:h},{command:"?ban",func:h},{command:"!recipes",func:x},{command:"!video",func:y},{command:"!abv",func:v},{command:"?registerVideo",func:w},{command:"!adminlist",func:M},{command:"!meadtools",func:$},{command:"!arglist",func:N},{command:"!mentorlist",func:S},{command:"!flip",func:e=>e.channel.send("\u{1F6AB} No flips allowed! \u{1F6AB}")},{command:"!bakingsoda",func:e=>e.channel.send("Baking soda is not a mead ingredient!!")},{command:"!avocadohoney",func:e=>e.channel.send(A())},{command:"!dv10",func:async e=>e.channel.send(await R())}];0&&(module.exports={hiddenCommands});
