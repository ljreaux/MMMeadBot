"use strict";var F=Object.create;var d=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var q=(e,n)=>{for(var r in n)d(e,r,{get:n[r],enumerable:!0})},w=(e,n,r,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of O(n))!P.call(e,t)&&t!==r&&d(e,t,{get:()=>n[t],enumerable:!(o=I(n,t))||o.enumerable});return e};var f=(e,n,r)=>(r=e!=null?F(U(e)):{},w(n||!e||!e.__esModule?d(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>w(d({},"__esModule",{value:!0}),e);var ie={};q(ie,{hiddenCommands:()=>ae});module.exports=z(ie);var m=f(require("mongoose")),G=new m.default.Schema({name:{type:String,required:!0},link:{type:String,required:!0}}),x=m.default.models.Recipe||m.default.model("Recipe",G);var Y=async()=>await x.find(),y=async e=>{let n=await Y(),r=e.content,[,o]=r.split(" ");if(!o)return;let t=o?.toLowerCase()||"",s=n.find(a=>a.name===t);if(s){e.channel.send(s.link);return}else if(o){e.channel.send(`The recipe ${o} is not a valid recipe command.`);return}};var k=e=>-668.962+1262.45*e-776.43*e**2+182.94*e**3,W=(e,n)=>{let r=-668.962+1262.45*e-776.43*e**2+182.94*e**3,o=-668.962+1262.45*n-776.43*n**2+182.94*n**3,t=.22+.001*r,s=(t*r+o)/(1+t),a=(r-s)/(2.0665-.010665*r),i=Math.round(a*(n/.794)*100)/100;return[Math.round(k(n)+4.5*i),i]},M=e=>{let n=e.content,[,r,o]=n.split(" "),[t,s]=[Number(r),Number(o)||.996];if(isNaN(t)||isNaN(s)||t<s||t>1.22||s>1.22||t-s>.165)return e.channel.send("Please enter a valid number for OG and FG. Example: !abv 1.050 1.010");let[i,c]=W(t,s),h=`An OG of ${t.toFixed(3)} and an FG of ${s.toFixed(3)} will make ${c}% ABV and ${i} delle units.`;return e.channel.send(h)},A=e=>{let n=e.content,[,r,o]=n.split(" "),t=parseFloat(r),s=parseFloat(o);if(isNaN(t)||isNaN(s))return e.channel.send("Please enter a valid ABV and FG.");if(t>23)return e.channel.send("The ABV provided is too high.");let a=Math.round(k(s)+4.5*t),i=a>=73,c=`**${t.toFixed(2)}%** ABV and a final gravity of **${s.toFixed(3)}** will give you **${a} delle units**.
`,h=i?"Your brew is likely stable without chemical stabilizers.":"Your brew will need stabilizers to prevent refermentation.";return e.channel.send(c+h)};var b=require("discord.js");var l=f(require("mongoose")),H=new l.default.Schema({command:{type:String,required:!0},response:{type:String,required:!0}}),p=l.default.models.video||l.default.model("video",H);var g=f(require("fs")),J="https://cloudinary-dv10-api.vercel.app/api/list-media",C=async()=>{try{let e=await fetch(J);if(!e.ok)throw new Error(`Failed to fetch images: ${e.statusText}`);return(await e.json()).resources.filter(o=>o.secure_url).map(o=>o.secure_url)}catch(e){return console.error("Error fetching Cloudinary images:",e),[]}},V=async e=>{try{let n=e.join(`
`);g.default.writeFileSync("images.txt",n),console.log("Images written to images.txt")}catch(n){console.error("Error writing to file:",n)}},K=()=>{try{return g.default.readFileSync("images.txt","utf8").split(`
`)}catch(e){return console.error(e),[]}},$=async()=>{try{let e=K();if(e.length)return e[Math.floor(Math.random()*e.length)];throw new Error("No images found in the Cloudinary folder.")}catch(e){return console.error(e),"No images available."}};var u=e=>e.member?.permissionsIn(e.channel.id).has(b.PermissionsBitField.Flags.Administrator)||e.member?.permissionsIn(e.channel.id).has(b.PermissionsBitField.Flags.ModerateMembers),v=e=>{let n=e.content,r=n.includes("kick")?"kick":"ban";if(!u(e))return e.channel.send("Nice try, but you don't have the power");let[,o]=n.split(" ");if(!o)return e.channel.send(`You need to specify a user to ${r}.`);let t=e.mentions.users.first();return t?(r==="kick"?e.guild?.members.kick(t):e.guild?.members.ban(t),e.channel.send(`${t.tag} has been ${r}ed.`)):e.channel.send("User not found.")};var Q=async e=>{let{command:n,response:r}=e,t=await new p({command:n,response:r}).save();return{command:t.command,response:t.response,id:t._id.toString()}},R=async e=>{if(!u(e))return e.channel.send("Nice try, but you don't have the power");let[,n]=e.content.split(" "),r=e.attachments.first();if(!r||!n)return e.channel.send("Please provide a video attachment and command name.");let o=r.url,t=`!video ${n}`;return await Q({command:t,response:o})?e.channel.send(`${n} has been successfully added.`):e.channel.send("Something went wrong.")},N=async e=>{if(!u(e))return e.channel.send("Nice try, but you don't have the power");let n=await C();return await V(n),e.channel.send("DV10 file has been refreshed.")},S=e=>{if(u(e))return e.channel.send("Here are all the admin commands:\n1. ?kick `@user`\n2. ?ban `@user`\n3. ?registerVideo `video name` (attach video to message)\n4. To send a message from the bot, enter the following separated by spaces:\n  - `@MMMeadBot`\n  - `#channel-name`\n  - Your Message\n5. To add new commands visit the [admin dashboard.](https://mmmeadbot-admin-dashboard.vercel.app/)\n6. To refresh the DV10 file, use the command:\n  - `!refreshDv10`\n   ")};var Z=async()=>await p.find(),B=async e=>{let n=await Z(),r=e.content,[,o]=r.split(" ");if(!o)return;let t=o?.toLowerCase()||"",s=n.find(a=>a.command.includes(t));return s?e.channel.send(s.response):e.channel.send(`The video ${o} is not a valid video command.`)};var T=["https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=66f1cd1c&is=66f07b9c&hm=3d635d01f15e0522b2549b07d96f7c18e087a9bbb3d9d8782e1b170042eddb5c&=&format=webp&width=924&height=1232","https://media.discordapp.net/attachments/756322400890650635/1287570767675916341/20240922_202600.jpg?ex=66f20738&is=66f0b5b8&hm=a3997db24c2f3cdd6efdc18145b06ad095585b342ad7479ba5f298adeede61f0&=&format=webp&width=576&height=1232","https://cdn.discordapp.com/attachments/795860418056159244/1128472098604580995/20230605_113657.jpg?ex=66f1fd8a&is=66f0ac0a&hm=178a7995ee8333bf9908946a6dde17956a53c0987b506f86e5966a840b3624b2&","https://media.discordapp.net/attachments/568934729676488706/1250544810864148530/20240612_151713.jpg?ex=6722949c&is=6721431c&hm=39b52f65399074f44b7f64d7609fd602baaa5adef90cce23c9eed0525771e320&format=webp&width=924&height=1232&","https://media.discordapp.net/attachments/568934729676488706/1300924513919303843/20241029_214606.jpg?ex=67229bde&is=67214a5e&hm=b9ff518e9bab96d48245661c5c08a74134a8b1697bd4429d84a212dd9819450b&=&format=webp&width=1620&height=1216"],X=()=>T[Math.floor(Math.random()*T.length)],L=X;var ee="https://meadtools.com",ne=["nutes","nutrients","nuteCalc"].map(e=>({arg:e,link:"/nute-calc"})),te=["brix","estimated-og","bench-trials","sulfite","sorbate","refractometer-correction","temperature-correction","blending","priming-sugar"].map(e=>({arg:e,link:`/extra-calcs/${e}`})),re=[...ne,...te,{arg:"stabilizers",link:"/stabilizers"},{arg:"abv",link:"/extra-calcs"},{arg:"brix",link:"/extra-calcs/brix"},{arg:"temp",link:"/extra-calcs/temperature-correction"},{arg:"refractometer",link:"/extra-calcs/refractometer-correction"},{arg:"estimatedOG",link:"/extra-calcs/estimated-og"},{arg:"trials",link:"/extra-calcs/bench-trials"},{arg:"priming",link:"/extra-calcs/priming-sugar"},{arg:"juice",link:"/juice"},{arg:"yeast",link:"/yeast"},{arg:"tutorial",link:"/tutorial"}].map(e=>({...e,link:`${ee}${e.link}`})),_=[...re],j=e=>{let n=`[Calculator](<https://meadtools.com/>)
[Video walkthrough](<https://youtube.com/playlist?list=PLK2MubdaaOrUaQnjvfsJnqJv3agRmd4oS&si=ZV0NCqxCioRmg9mq>)

Run the command again with an argument from the list to get a more specific link. 
Run \`!arglist\`  for a list of arguments
  `,[,r]=e.content.split(" "),o=_.find(t=>r?.toLowerCase().startsWith(t.arg.toLowerCase()));return o?e.channel.send(o.link):e.channel.send(n)},E=e=>{let n=_.groupBy(o=>o.link),r=Object.entries(n).map(([o,t])=>{let s=o.split("/").pop()||"",a=t.map(i=>`- ${i.arg}`).join(`
`);return`**${s}**
${a}`}).join(`

`);e.channel.send(`Here are all the available arguments organized by URL path:

${r}`)};var{MEAD_MENTOR_ROLE_ID:oe=""}=process.env,se=e=>{let r=e.guild?.roles.cache.get(oe)?.members?.map(o=>o.displayName).reduce((o,t)=>o+=`- ${t}
`,`
`);if(!r)return e.channel.send("No mead mentors found.");e.channel.send(`The current Mead Mentors: ${r}`)},D=se;var ae=[{command:"?kick",func:v},{command:"?ban",func:v},{command:"!recipes",func:y},{command:"!video",func:B},{command:"!abv",func:M},{command:"!delle",func:A},{command:"?registerVideo",func:R},{command:"!refreshImages",func:N},{command:"!adminlist",func:S},{command:"!meadtools",func:j},{command:"!arglist",func:E},{command:"!mentorlist",func:D},{command:"!flip",func:e=>e.channel.send("\u{1F6AB} No flips allowed! \u{1F6AB}")},{command:"!bakingsoda",func:e=>e.channel.send("Baking soda is not a mead ingredient!!")},{command:"!avocadohoney",func:e=>e.channel.send(L())},{command:"!dv10",func:async e=>e.channel.send(await $())}];0&&(module.exports={hiddenCommands});
